# LearnProject
 
기존 프로젝트에서 추가적인 구현을해본다
1. 레벨을 변화하기전 웨이브를 구현
2. UI의 위젯을 더 추가해본다
3. 단순한 체력의 변화를넘어 캐릭터의 이동속도감소, 키 반전등 지속적인 영향을 주는것을 도전해본다
4. 웨이브 별로 아이템과 별개로 다른 장애물을 추가해본다


## 과제 진행도
필수 과제 1번: 웨이브를 3번까지 구현했습니다
1. 웨이브가 바뀔때 현재 위치에서 시작
2. 있던 아이템들을 destroy후 새로운 아이템들을 스폰
3.AddOnScreenDebugMessage로 출력하고 Level: level - wave 형태로도 출력하게끔 했습니다

필수과제 2번 : 메인 메뉴, 게임 오버, 게임 레벨 선택 3가지의 메뉴를 블루 프린트로 제작하였습니다

도전과제 1번 : 새로운 부정적아이템 효과 SlowingItem, ReverseControllItem을 구현했습니다
- Reverse는 중첩이 없고 SlowingItem은 중첩가능합니다
- 중첩될시 지속시간은 나중에 먹은 아이템의 시간으로 초기화 됩니다
- 효과의 시작 끝 상황UI을 캐릭터에 부착하였습니다

도전과제 2번 : 웨이브별 환경의 변화를 2가지로 구현했습니다.
- waveRow라는 데이터 테이블을 생성하여 웨이브별 시간과 스폰되는 아이템의 갯수를 만들수있게 했습니다
- 후술할 ObstacleSpawnRow라는 데이터 테이블도 같이 받습니다(이부분은 문제점이 클것같지만 일단 구현했습니다 ex)순환참조)
- wave2에서는 스파이크를 구현했습니다
- 스파이크는 기존 Item대신 같은형태의 ObstacleInterface 와 BaseObstacle를 구현했습니다(장애물은 Item과는 의미가 다르다고 생각하여)
- 또한 ObstacleSpawnRow이라는 데이터 테이블을 따로 구현해 아이템의 갯수와는 별개로 스폰되며 확률은 아이템에서 구현했으니 여기서는 스폰되는 갯수로 소환합니다.
- 이렇게만든 ObstacleSpawnRow를 웨이브별로 WaveRow 테이블에 배치해 여러개의 Obstacle를 구현했을때 에디터에서 쉽게 추가할수있겠금했습니다
- Obstacle은 기존 spawnvolume내에서 생성하게끔 구현했습니다
- wave3에서는 천둥이라는 형태로 구현했습니다
- 천둥은 유저 위치에 스폰되며 일정시간후 공격(폭발)합니다
- Actor를 따로 만들어 GameState에서 TimerHandler를 가진채로 관리합니다

도전과제 3번: 캐릭터의 머리위 체력바, 메인메뉴에서 버튼을 hover상태로 했습니다
단 3D위젯부분은 구현하지 못했습니다.

## 추가적으로 구현한 사항
과제 제출시간을 넘겼지만 추가적으로 구현한 사항입니다
스폰한 아이템을 한곳에 몰리지 않게 스폰합니다
- 단 ZoneRowCount의 변수를 통해 ZoneRowCount * ZoneRowCount갯수의 칸으로 구분하였습니다

분배하는 방식은
- TArray로 구역의 수만큼(ZoneRowCount * ZoneRowCount) 배열을 만들었습니다
- 그후 TArray[Index] = Index로 각 Index마다 (칸)번호을 매칭시켰습니다
- 배열을 돌면서 랜덤한 값으로 뽑아낸 Index의 값과 현재 위치의 값을 변화 시켰습니다
- 변화된 값은 굳이 변화시킬 필요가 없음으로 (if (Index == TArray[Index]))인 경우만 랜덤값을 추가해 변경했습니다(만약 본인이 나왔어도 결국 랜덤한값에 의한것임으로 추가적인 변경 필요X)
- 다했을경우 예로 3 X 3인경우 TArray[0] = 3, TArray[1] = 6, ... TArray[8] = 2 식으로 됩니다
- 즉 Index는 스폰될 순서이며 그값인 TArray[Index]는 구역의 번호입니다
- 그후 아이템이 스폰될때마다 Index++를해주어 모든 구역에 (특정 구역은 다른 구역과의 스폰차이가 2이상되지않음) 균등하게 스폰됩니다
- 프로젝트에서 구현된것을 활용해 구역 중간에서 구역범위내에 랜덤한위치값으로 스폰합니다

